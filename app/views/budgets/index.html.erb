<div class="row">
  <div class="col col-md-9">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"> <%= link_to 'Home', root_path  %> </li>
        <li class="breadcrumb-item active" aria-current="budgets list page"> Budgets </li>
      </ol>
    </nav>
  </div>

  <div class="col col-md-3">
    <%= link_to 'New Budget', new_budget_path, class: 'incomes--new-income-link btn btn-success' %>
  </div>
</div>

<table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">From</th>
      <th scope="col">To</th>
      <th scope="col">Income estimate</th>
      <th scope="col">Expense estimate</th>
      <th colspan="3" class="incomes--actions-field">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @budgets.each do |budget| %>
      <tr>
        <td><%= budget.from.strftime("%e %B, %Y") %></td>
        <td><%= budget.to.strftime("%e %B, %Y") %></td>
        <td> <span> &#8358; </span> <%= budget.income_estimate %></td>
        <td><span> &#8358; </span> <%= budget.expense_estimate %></td>
        <td class="incomes--actions-field">
          <button class="btn modal-pop--trigger">
            <%= image_icon('view', 'side-bar--menu-icon') %>
          </button>
          <%= modal(options: { modal_title: "Delete Budget - #{budget.id}" }, html_options: { class: "modal-display" }) do %>
            <%= "Are you sure you want to delete Budget for (#{budget.from} - #{budget.to})?" %>
            <hr>
            <div class="float-right">
              <%= link_to 'Delete', budget, method: :delete, class: 'btn btn-danger modal-display--action-button' %>
            </div>
          <% end %>
        </td>
        <td class="incomes--actions-field">
          <%= link_to(edit_budget_path(budget)) do %>
            <%= image_icon('edit', 'side-bar--menu-icon') %>
          <% end %>
        </td>
        <td class="incomes--actions-field">
          <button class="btn modal-pop--trigger">
            <%= image_icon('delete', 'side-bar--menu-icon') %>
          </button>
          <%= modal(options: { modal_title: "Delete Budget - #{budget.id}" }, html_options: { class: "modal-display" }) do %>
            <%= "Are you sure you want to delete Budget for (#{budget.from} - #{budget.to})?" %>
            <hr>
            <div class="float-right">
              <%= link_to 'Delete', budget, method: :delete, class: 'btn btn-danger modal-display--action-button' %>
            </div>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
